<!DOCTYPE html>
<html>
  <canvas width="500" height="500" style="background:#ddd;"></canvas>
  
  <script>
    let canvas = document.querySelector('canvas');
    let ctx = canvas.getContext('2d');
    let cloudyboi = new cloud();
    let mrcloud = new cloud();
    let supercloud = new cloud();
    let anUdderlySmartCow = new player();

    
    
    function cloud() {
      this.y = Math.round(Math.random() * 200);
      this.x = Math.round(Math.random() * 400);
      this.speed = 3;
      // this.speed = Math.random() * 3 + 1.6;
      
      this.show = function() {
        ctx.fillStyle = 'white';
        ctx.fillRect(this.x, this.y, 80, 30);
      }
      
      this.move = function() {
        this.x = this.x - this.speed;
        
        if(this.x + 80 < 0) {
          this.x = 500;
        }
      }
    }
    
    function player() {
      this.x = 50;
      this.y = 430 - 80;
      
      this.show = function() {
        ctx.fillStyle = 'red';
        ctx.fillRect(this.x, this.y, 50, 80);
      }
    }
    
    function loopydog() {
      ctx.fillStyle = '#5cf';
      ctx.fillRect(0, 0, 500, 500);
    
      ctx.fillStyle = 'green';
      ctx.fillRect(0, 430, 500, 70);
      
      cloudyboi.show();
      cloudyboi.move();
      
      mrcloud.show();
      mrcloud.move();
      
      supercloud.show();
      supercloud.move();
      
      anUdderlySmartCow.show();
      
      if(supercloud.speed < 10) {
        supercloud.speed = supercloud.speed + 0.1;
      }
      
      window.requestAnimationFrame(loopydog);
    }
    
    window.addEventListener('keydown', function(event) {
      if(event.keyCode == 37) {
        anUdderlySmartCow.x = anUdderlySmartCow.x - 15;
      }
      
      if(event.keyCode == 39) {
        anUdderlySmartCow.x = anUdderlySmartCow.x + 15;
      }
    });
    
    loopydog();
  </script>
</html>